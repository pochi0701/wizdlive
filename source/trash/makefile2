################################################################################
# wizd makefile
#						$Revision: 1.5 $
#						$Date: 2004/07/19 02:46:56 $
################################################################################
.SUFFIXES: .c .o

all:	wizd

wizd:	makefile		\
	wizd_main.o	\
	wizd_param.o	\
	wizd.h 		\
	wizd_listen.o	\
	wizd_http.o	\
	wizd_menu.o	\
	wizd_send_file.o	\
	wizd_send_svi.o	\
	wizd_send_vob.o	\
	wizd_proxy.o	\
	wizd_base64.o	\
	wizd_cgi.o	\
	wizd_aviread.o	\
	wizd_detect.o	\
	wizd_tools.h	\
	wizd_tools.o	\
	config.h		\
	libnkf.o		\
	utf8tbl.o
	gcc 	-pipe -O2 -Wall   		\
		-D_FILE_OFFSET_BITS=64 	\
		-DUTF8_INPUT_ENABLE 	\
		-D_LARGEFILE_SOURCE 	\
		-o wizd  		\
		wizd_main.o  	\
		wizd_param.o	\
		wizd_listen.o	\
		wizd_http.o	\
		wizd_menu.o	\
		wizd_send_file.o	\
		wizd_send_svi.o	\
		wizd_send_vob.o	\
		wizd_proxy.o	\
		wizd_base64.o	\
		wizd_cgi.o	\
		wizd_aviread.o	\
		wizd_detect.o	\
		wizd_tools.o	\
		libnkf.o		\
		utf8tbl.o
	strip 	wizd

myavinfo: myavinfo.o wizd_aviread.o wizd_aviread.h
	gcc 	-pipe -O2 -Wall   		\
		-o myavinfo				\
		myavinfo.o wizd_aviread.o

CC = gcc
CFLAGS = -pipe -O2 -Wall
CFLAGS += -D_FILE_OFFSET_BITS=64
CFLAGS += -DUTF8_INPUT_ENABLE
CFLAGS += -D_LARGEFILE_SOURCE

.c.o:
	$(CC) $(CFLAGS) -c ${.IMPSRC} -o $@

clean:
	rm -f wizd *.o
